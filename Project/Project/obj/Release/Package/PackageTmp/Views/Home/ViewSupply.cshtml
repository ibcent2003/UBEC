@model Project.Models.IndexViewModel
@{
    ViewBag.Title = Model.Supply.SerialNo;
    Layout = "~/Views/Shared/_PlainLayout.cshtml";
    var db = new Project.DAL.PROEntities();
}

<style>
    /* img {
        width: 100%;
        height: 100%;
    }*/

    .itemImage {
        /*float: left;*/
        margin: 3px;
        padding: 3px;
        width: 400px;
        height: 300px;
    }
</style>
<section class="overview-block-ptb iq-over-black-70 jarallax iq-breadcrumb3 text-left iq-font-white" style="background-image: url('/Content/Frontend/revolution/assets/s1.jpg'); background-position: center center; background-repeat: no-repeat; background-size: cover;">
    <div class="container">
        <div class="row align-items-center">
            <div class="col-lg-6 col-sm-12">
                <div class="iq-mb-0">
                    <h2 class="iq-font-white iq-tw-6"> @Model.Supply.SerialNo</h2>
                </div>
            </div>
            <div class="col-lg-6 col-sm-12">
                <nav aria-label="breadcrumb" class="text-right">
                    <ol class="breadcrumb">
                        <li class="breadcrumb-item"><a href="/"><i class="ion-android-home"></i> Home</a></li>
                        <li class="breadcrumb-item active" aria-current="page"> @Model.Supply.SerialNo</li>
                    </ol>
                </nav>
            </div>
        </div>
    </div>
</section>

<section class="overview-block-ptb iq-accordion arrow">
    <div class="container">
        <div class="row">
            <div class="col-sm-4">
                <div class="green-bg iq-pall-20">
                    <h6 class="iq-tw-6 iq-font-black small-title white">Project</h6>
                    <div class="iq-font-white">
                        <b>Serial No:</b>
                    </div>
                    <div class="iq-font-white">
                        @Model.Supply.SerialNo
                    </div>

                    <div class="iq-font-white">
                        <b> Contractor:</b>
                    </div>
                    <div class="iq-font-white">
                        @Model.Supply.Contractor.Name
                    </div>
                    <div class="iq-font-white">
                        <b>Location:</b>
                    </div>
                    <div class="iq-font-white">
                        @Model.Supply.Location
                    </div>

                    <div class="iq-font-white">
                        <b> State:</b>
                    </div>
                    <div class="iq-font-white">
                        @Model.Supply.LGA.State.Name
                    </div>
                    <div class="iq-font-white">
                        <b> LGA:</b>
                    </div>
                    <div class="iq-font-white">
                        @Model.Supply.LGA.Name
                    </div>
                    <div class="iq-font-white">
                        <b> Verification Officer:</b>
                    </div>
                    <div class="iq-font-white">
                        @Model.Supply.VerificationOfficer
                    </div>

                    <div class="iq-font-white">
                        <b> Verification Date:</b>
                    </div>
                    <div class="iq-font-white">
                        @Model.Supply.VerificationDate
                    </div>

                    <div class="iq-font-white">
                        <b>Representative Name :</b>
                    </div>
                    <div class="iq-font-white">
                        @Model.Supply.Representative
                    </div>

                    <div class="iq-font-white">
                        <b>Representative Designation :</b>
                    </div>
                    <div class="iq-font-white">
                        @Model.Supply.RepresentativeDesignation
                    </div>
                    <div class="iq-font-white">
                        <b>Representative Mobile No :</b>
                    </div>
                    <div class="iq-font-white">
                        @Model.Supply.RepresentativePhoneNumber
                    </div>


                </div>
            </div>
            <div class="col-md-8">

                <div class="row">

                    <div class="col-sm-12">
                        <table class="table table-striped table-bordered table-hover">
                            <thead>
                                <tr>
                                    <th>
                                        S/N
                                    </th>

                                    <th>
                                        Description
                                    </th>
                                    <th>
                                        Quantity Ordered
                                    </th>
                                    <th>
                                        Quantity Delivered
                                    </th>
                                    <th>
                                        Remarks
                                    </th>
                                   
                                </tr>
                            </thead>
                            <tbody>
                                @if (Model.supplyItems.Count != 0)
                                {
                                    int i = 0;
                                    foreach (var item in Model.supplyItems)
                                    {

                                        // var getInspection = item.Inspection.OrderByDescending(x=>x.StageOfCompletion).FirstOrDefault();

                                        ++i;

                                        <tr>
                                            <td>
                                                @i
                                            </td>

                                            <td>
                                                @item.Description
                                            </td>
                                            <td>
                                                @item.QuantityOrdered
                                            </td>
                                            <td>
                                                @item.QuantityDelivered
                                            </td>
                                            <td>
                                                @item.Remarks
                                            </td>
                                            
                                        </tr>

                                    }
                                }

                            </tbody>
                        </table>

                        <hr />

                        <div class="row">

                            @{
                                var getinspection = Model.Supply.DocumentInfo.ToList();
                            }
                            @foreach (var item in getinspection)
                            {
                                <div class="col-md-6">
                                    <div class="widget box">
                                        <div class="widget-header">
                                            <h6><i class="icon-reorder"></i> @item.DocumentType.Name</h6>
                                        </div>
                                        <div class="align-center">
                                            <p>
                                                @*<img class="img-fluid" src="@Url.Action("DocumentsUploadedPath", new { Path=(Model.PicturePath) + item.Path})">*@
                                                <img class="img-fluid itemImage" src="@Url.Action("DocumentsUploadedPath", new { Path = (Model.PicturePath) + item.Path }) " />
                                            </p>
                                        </div>
                                    </div>
                                </div>
                            }

                        </div>


                    </div>
                </div>

            </div>




        </div>
    </div>
</section>
